{"ast":null,"code":"import _toConsumableArray from\"D:/react projects/realtime-white-board/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/react projects/realtime-white-board/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Chat=function Chat(_ref){var setOpenChatTab=_ref.setOpenChatTab,socket=_ref.socket;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),chat=_useState2[0],setChat=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];useEffect(function(){socket.on(\"messageResponse\",function(data){setChat(function(prevChats){return[].concat(_toConsumableArray(prevChats),[data]);});});},[]);var handleSubmit=function handleSubmit(e){e.preventDefault();if(message.trim()!==\"\"){setChat(function(prevChats){return[].concat(_toConsumableArray(prevChats),[{message:message,name:\"You\"}]);});socket.emit(\"message\",{message:message});setMessage(\"\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"position-fixed top-0 h-100 text-white bg-dark\",style:{width:\"400px\",left:\"0%\"},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return setOpenChatTab(false);},className:\"btn btn-light btn-block w-100 mt-5\",children:\"Close\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 p-2 border  border-1 border-white rounded-3 \",style:{height:\"70%\",width:\"95%\",marginLeft:\"2%\"},children:chat.map(function(msg,index){return/*#__PURE__*/_jsxs(\"p\",{className:\"my-2 text-center w-100 py-2 border border-left-0 border-right-0  \",children:[msg.name,\": \",msg.message]},index*999);})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"w-100 mt-4 d-flex rounded-3 \",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter message\",className:\"h-100 border-0 rounded-0 py-2 px-4\",style:{width:\"90%\"},value:message,onChange:function onChange(e){return setMessage(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary rounded-0\",children:\"Send\"})]})]});};export default Chat;","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","Chat","_ref","setOpenChatTab","socket","_useState","_useState2","_slicedToArray","chat","setChat","_useState3","_useState4","message","setMessage","on","data","prevChats","concat","_toConsumableArray","handleSubmit","e","preventDefault","trim","name","emit","className","style","width","left","children","type","onClick","height","marginLeft","map","msg","index","onSubmit","placeholder","value","onChange","target"],"sources":["D:/react projects/realtime-white-board/frontend/src/Components/chat/Chat.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nconst Chat = ({ setOpenChatTab, socket }) => {\r\n  const [chat, setChat] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    socket.on(\"messageResponse\", (data) => {\r\n      setChat((prevChats) => [...prevChats, data]);\r\n    });\r\n  }, []);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (message.trim() !== \"\") {\r\n      setChat((prevChats) => [...prevChats, { message, name: \"You\" }]);\r\n      socket.emit(\"message\", { message });\r\n      setMessage(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"position-fixed top-0 h-100 text-white bg-dark\"\r\n      style={{ width: \"400px\", left: \"0%\" }}\r\n    >\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => setOpenChatTab(false)}\r\n        className=\"btn btn-light btn-block w-100 mt-5\"\r\n      >\r\n        Close\r\n      </button>\r\n      <div\r\n        className=\"mt-5 p-2 border  border-1 border-white rounded-3 \"\r\n        style={{ height: \"70%\" , width:\"95%\", marginLeft:\"2%\"}}\r\n      >\r\n        {chat.map((msg, index) => (\r\n          <p\r\n            key={index * 999}\r\n            className=\"my-2 text-center w-100 py-2 border border-left-0 border-right-0  \"\r\n          >\r\n            {msg.name}: {msg.message}\r\n          </p>\r\n        ))}\r\n      </div>\r\n      <form onSubmit={handleSubmit} className=\"w-100 mt-4 d-flex rounded-3 \">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Enter message\"\r\n          className=\"h-100 border-0 rounded-0 py-2 px-4\"\r\n          style={{\r\n            width: \"90%\",\r\n          }}\r\n          value={message}\r\n          onChange={(e) => setMessage(e.target.value)}\r\n        />\r\n        <button type=\"submit\" className=\"btn btn-primary rounded-0\">\r\n          Send\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}